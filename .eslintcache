[{"/Users/cherchir/Desktop/TakeHomeTest-QA/src/index.js":"1","/Users/cherchir/Desktop/TakeHomeTest-QA/src/App.js":"2","/Users/cherchir/Desktop/TakeHomeTest-QA/src/reportWebVitals.js":"3","/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/Ballot/Ballot.js":"4","/Users/cherchir/Desktop/TakeHomeTest-QA/src/Api/Api.js":"5","/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/Categories/Categories.js":"6","/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/UI/Card/Card.js":"7","/Users/cherchir/Desktop/TakeHomeTest-QA/src/Hooks/usePersState.js":"8","/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/UI/Modal/Modal.js":"9","/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/UI/SlidePanel/SlidePanel.js":"10","/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/UI/SlidePanel/SlideCard.js":"11"},{"size":500,"mtime":1609790932000,"results":"12","hashOfConfig":"13"},{"size":268,"mtime":1616702953000,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":1609790932000,"results":"15","hashOfConfig":"13"},{"size":4007,"mtime":1616866366000,"results":"16","hashOfConfig":"13"},{"size":147,"mtime":1616700830000,"results":"17","hashOfConfig":"13"},{"size":712,"mtime":1616865820000,"results":"18","hashOfConfig":"13"},{"size":276,"mtime":1616865727000,"results":"19","hashOfConfig":"13"},{"size":429,"mtime":1616779721000,"results":"20","hashOfConfig":"13"},{"size":843,"mtime":1616860760635,"results":"21","hashOfConfig":"13"},{"size":1054,"mtime":1616864932330,"results":"22","hashOfConfig":"13"},{"size":338,"mtime":1616858832721,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"11mvgo",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"/Users/cherchir/Desktop/TakeHomeTest-QA/src/index.js",[],["48","49"],"/Users/cherchir/Desktop/TakeHomeTest-QA/src/App.js",[],"/Users/cherchir/Desktop/TakeHomeTest-QA/src/reportWebVitals.js",[],"/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/Ballot/Ballot.js",["50"],"import React, { useState, useEffect } from 'react';\nimport './Ballot.css';\nimport Api from '../../Api/Api';\nimport usePersState from '../../Hooks/usePersState';\nimport Categories from '../Categories/Categories';\nimport Modal from '../UI/Modal/Modal';\nimport SlidePanel from '../UI/SlidePanel/SlidePanel';\n\nconst Ballot = () => {\n  const defaultCat = []\n  const defaultSubmissions = ({showPanel:false, currentResults:[]})\n  const [curCategories, setCategories] = usePersState('curCategories', defaultCat);\n  const [isReady, setIsReady] = useState({ready:false, ballotResults:''});\n  const [curSubmissions, setSubmissions] = usePersState('curSubmissions', defaultSubmissions);\n\n  useEffect(() => {\n    if (curCategories.length === 0) {\n      apiHandler();\n    }\n  }, [curCategories.length, setCategories]);\n\n  useEffect(() => {\n      if (isReady.ballotResults.length !== 0 ) {\n        setSubmissions(curSubmissions => { return {...curSubmissions, currentResults: [...curSubmissions.currentResults, isReady.ballotResults]}})\n      }\n  }, [setSubmissions, isReady.ballotResults]);\n  \n  const apiHandler = () => {\n      Api.getBallotData()\n      .then(responseData => {\n        let catagories = responseData.items;\n        const loadedCategories = [];\n        for (const key in catagories) {\n          loadedCategories.push({\n            id: catagories[key].id,\n            title: catagories[key].title,\n            catitems: catagories[key].items,\n            isSelected:false,\n          });\n        }\n        setCategories(loadedCategories);\n      });\n  };\n    \n  const userSelectHandler = (catId, itemId) => {\n      let cats = [...curCategories];\n      let cat = cats.find(x => x.id === catId)\n      let select = cat.catitems.find(x => x.isSelected === true)\n      if (!cat.isSelected) {\n        cat.isSelected = true;\n        cat.catitems.find(x => x.id === itemId).isSelected = true;\n        setCategories(curCategories =>\n          cats\n        );\n      } else if (select) {\n        select.isSelected = '';\n        cat.catitems.find(x => x.id === itemId).isSelected = true;\n        setCategories(curCategories =>\n          cats\n        );\n      }\n  };\n  \n  const validateBallot = () => {\n      let ready = false;\n      for (const key in curCategories) {\n        if (curCategories[key].isSelected) {\n          setIsReady(isReady => ({\n              ...isReady,\n              ready: true\n          }));\n          ready = true;\n        } else {\n          setIsReady(isReady => ({\n              ...isReady,\n              ready: false\n          }));\n          ready = false;  \n        }\n      }\n      return ready;\n  }\n  const submitBallotHandler = async () => {\n      let ready = await validateBallot();\n      let catChoice = curCategories.filter(x => x.isSelected === true)\n      let ballotChoice = catChoice.map(cat => ({\n        id:cat.id,\n        cat:cat.title,\n        catitem:cat.catitems.filter(x => x.isSelected === true)\n      }));\n      if (ready) {\n        console.log('Ready', ready);\n        setIsReady(isReady => ({...isReady, ballotResults: ballotChoice}))\n        apiHandler();\n      }\n  };\n\n  const seeResultsHandler = () => {\n      setSubmissions(curSubmissions => ({...curSubmissions, showPanel: true}))\n  };\n\n  return (\n    <div className='ballot'>\n       {isReady.ready && <Modal \n          onClose={() => setIsReady(isReady => ({...isReady, ready: false}))}\n          details={isReady.ballotResults}>\n       </Modal>\n      }  \n      <h1>AWARDS 2021</h1>\n      <Categories\n        categories={curCategories}\n        onSelectItem={userSelectHandler}\n      />\n      {curSubmissions.showPanel && <SlidePanel \n          onClose={() => setSubmissions(curSubmissions => ({...curSubmissions, showPanel: false}))}\n          details={curSubmissions.currentResults}>\n       </SlidePanel>}\n      <button className=\"results-button\" onClick={seeResultsHandler}>See Current Results</button>\n       <button onClick={submitBallotHandler}>Submit Ballot</button> \n    </div>\n  );\n\n}\n\nexport default Ballot;\n","/Users/cherchir/Desktop/TakeHomeTest-QA/src/Api/Api.js",[],"/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/Categories/Categories.js",[],"/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/UI/Card/Card.js",[],"/Users/cherchir/Desktop/TakeHomeTest-QA/src/Hooks/usePersState.js",[],"/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/UI/Modal/Modal.js",[],"/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/UI/SlidePanel/SlidePanel.js",[],"/Users/cherchir/Desktop/TakeHomeTest-QA/src/Components/UI/SlidePanel/SlideCard.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":20,"column":6,"nodeType":"57","endLine":20,"endColumn":43,"suggestions":"58"},"no-native-reassign",["59"],"no-negated-in-lhs",["60"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'apiHandler'. Either include it or remove the dependency array.","ArrayExpression",["61"],"no-global-assign","no-unsafe-negation",{"desc":"62","fix":"63"},"Update the dependencies array to be: [apiHandler, curCategories.length, setCategories]",{"range":"64","text":"65"},[765,802],"[apiHandler, curCategories.length, setCategories]"]